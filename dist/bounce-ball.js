!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["bounce-ball"]=e():t["bounce-ball"]=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){var e=t.id,n=t.text,r=t.speed,s=void 0===r?6:r,o=t.ballStyle,l=void 0===o?{}:o,a=t.textStyle,u=void 0===a?{}:a;this.id=e,this.text=n,this.speed=s,this.ballStyle=l,this.textStyle=u,this.contentArray=[],this.timers=[],this.ballPropsArray=[],this.$id=document.getElementById(this.id),this.$ball=i.getBall(),this.init(),this.bounce()}return t.prototype.append=function(t){this.$id&&this.$id.appendChild(t)},t.prototype.init=function(){this.contentArray=this.text.split(" "),this.append(this.$ball)},t.prototype.bounce=function(){for(var t=0,e=this.contentArray.length;t<e;t++){var n=this.contentArray[t],r=i.getSpan(n,"text");this.append(r);var s=r.offsetWidth;t+1<this.contentArray.length&&this.append(i.getSpan(" "));var o={left:r.offsetLeft+s/2,top:r.offsetTop,textLen:s,textIndex:t};this.ballPropsArray.push(o)}},t.prototype.animateBall=function(t){var e=this,n=t.textLen*this.speed+"ms",r=t.textLen*this.speed/2+"ms";this.$ball.style.transitionDuration=n+", "+r;var s=this.$ball.offsetLeft,o=t.left-s+s;this.$ball.style.left=o+"px",this.$ball.style.top="-1em";var l=t.textLen*this.speed/2,a=setTimeout((function(){e.$ball.style.left=t.left+"px",e.$ball.style.top="0px",a=setTimeout((function(){i.addClass(e.$id.querySelectorAll(".text")[t.textIndex],"highlight")}),l),e.timers.push(a)}),l);this.timers.push(a)},t.prototype.run=function(){var t=this;this.timers.length&&this.reset();var e=0,n=0;this.$ball.style.display="block";for(var i=function(i,s){var o=r.ballPropsArray[i];n=setTimeout((function(){t.animateBall(o)}),e),r.timers.push(n),e+=o.textLen*r.speed},r=this,s=0,o=this.ballPropsArray.length;s<o;s++)i(s);n=setTimeout((function(){t.$ball.style.display="none"}),e),this.timers.push(n)},t.prototype.reset=function(){this.timers.forEach((function(t){clearTimeout(t)})),this.timers.length=0,this.$ball.style.left="0",this.$id.querySelectorAll(".text").forEach((function(t){i.removeClass(t,"highlight")}))},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBall=function(){var t=document.createElement("div");return t.className="ball",t},e.getSpan=function(t,e){var n=document.createElement("span");return n.innerText=t,e&&(n.className=e),n},e.addClass=function(t,e){if(t.className){var n=t.className;t.className=n+" "+e}else t.className=e},e.removeClass=function(t,e){var n=t.className.split(" "),i=[];n.forEach((function(t){t!==e&&i.push(t)})),t.className=i.join("")}}])}));